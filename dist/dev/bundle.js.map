{"version":3,"file":"bundle.js.map","sources":["../Users/zhengqiguang/Work/github/QV/src/common/selector.js","../Users/zhengqiguang/Work/github/QV/src/dsl/index.js","../Users/zhengqiguang/Work/github/QV/src/compiler/ast/parse-tag.js","../Users/zhengqiguang/Work/github/QV/src/compiler/ast/parse.js","../Users/zhengqiguang/Work/github/QV/src/compiler/ast/index.js","../Users/zhengqiguang/Work/github/QV/src/common/md5.js","../Users/zhengqiguang/Work/github/QV/src/common/common.js","../Users/zhengqiguang/Work/github/QV/src/v-dom/VNode.js","../Users/zhengqiguang/Work/github/QV/src/v-dom/VDom.js","../Users/zhengqiguang/Work/github/QV/src/v-dom/VText.js","../Users/zhengqiguang/Work/github/QV/src/v-dom/VDomFrag.js","../Users/zhengqiguang/Work/github/QV/src/compiler/compiler-helper.js","../Users/zhengqiguang/Work/github/QV/src/compiler/v-dom-to-dom.js","../Users/zhengqiguang/Work/github/QV/src/compiler/handlerDiff.js","../Users/zhengqiguang/Work/github/QV/src/compiler/diff.js","../Users/zhengqiguang/Work/github/QV/src/core/render.js","../Users/zhengqiguang/Work/github/QV/src/compiler/compiler-v2.js","../Users/zhengqiguang/Work/github/QV/src/core/event-loop.js","../Users/zhengqiguang/Work/github/QV/src/core/node.js","../Users/zhengqiguang/Work/github/QV/src/core/watcher.js","../Users/zhengqiguang/Work/github/QV/src/core/data.js","../Users/zhengqiguang/Work/github/QV/src/core/core.js","../Users/zhengqiguang/Work/github/QV/src/index.js"],"sourcesContent":["/**\n * Created by zhengqiguang on 2017/6/15.\n */\n\nexport default {\n    s(selector = \"\"){ //单个\n        return document.querySelector(selector);\n    },\n    m(selector = \"\"){// 集合\n        return document.querySelectorAll(selector);\n    },\n    id(id = \"\"){\n        return document.getElementById(id);\n    }\n\n}\n","/**\n * Created by zhengqiguang on 2017/6/15.\n */\n\n\nvar dsl_prefix = \"dsl-\";\n\nconst dslMap = {\n    \"dsl-if\": 1,\n    \"dsl-for\": 1,\n    \"dsl-html\": 1\n};\n\nclass DSL {\n    constructor() {\n        this.initAll();\n    }\n\n    initAll() {\n    }\n\n    get dslMap() {\n        return dslMap;\n    }\n}\n\n\nexport default new DSL();\n","var attrRE = /([:\\w-]+)|['\"]{1}([^'\"]*)['\"]{1}/g;\n\n// create optimized lookup object for\n// void elements as listed here:\n// http://www.w3.org/html/wg/drafts/html/master/syntax.html#void-elements\n\nimport dsl from \"../../dsl/index\";\n\nvar lookup = (Object.create) ? Object.create(null) : {};\nlookup.area = true;\nlookup.base = true;\nlookup.br = true;\nlookup.col = true;\nlookup.embed = true;\nlookup.hr = true;\nlookup.img = true;\nlookup.input = true;\nlookup.keygen = true;\nlookup.link = true;\nlookup.menuitem = true;\nlookup.meta = true;\nlookup.param = true;\nlookup.source = true;\nlookup.track = true;\nlookup.wbr = true;\n\nexport default function (tag) {\n    var i = 0;\n    var key;\n    var res = {\n        type: 'tag',\n        name: '',\n        voidElement: false,\n        attrs: {},\n        children: [],\n        dsl: []\n    };\n\n    tag.replace(attrRE, function (match) {\n\n        if (dsl.dslMap[match]) {\n           res.dsl.push(match);\n        }\n\n        if (i % 2) {\n            key = match;\n        } else {\n            if (i === 0) {\n                if (lookup[match] || tag.charAt(tag.length - 2) === '/') {\n                    res.voidElement = true;\n                }\n                res.name = match;\n            } else {\n                res.attrs[key] = match.replace(/['\"]/g, '');\n            }\n        }\n        i++;\n    });\n\n    return res;\n};","/**\n * Created by zhengqiguang on 2017/6/15.\n */\nvar tagRE = /<(?:\"[^\"]*\"['\"]*|'[^']*'['\"]*|[^'\">])+>/g;\n\nimport parseTag from \"./parse-tag\";\n\nvar empty = Object.create ? Object.create(null) : {};\n\nexport default function (html, options) {\n    options || (options = {});\n    options.components || (options.components = empty);\n    var result = [];\n    var current;\n    var level = -1;\n    var arr = [];\n    var byTag = {};\n    var inComponent = false;\n\n    html.replace(tagRE, function (tag, index) {\n        if (inComponent) {\n            if (tag !== ('</' + current.name + '>')) {\n                return;\n            } else {\n                inComponent = false;\n            }\n        }\n        var isOpen = tag.charAt(1) !== '/';\n        var start = index + tag.length;\n        var nextChar = html.charAt(start);\n        var parent;\n\n        if (isOpen) {\n            level++;\n\n            current = parseTag(tag);\n            if (current.type === 'tag' && options.components[current.name]) {\n                current.type = 'component';\n                inComponent = true;\n            }\n\n            if (!current.voidElement && !inComponent && nextChar && nextChar !== '<') {\n                current.children.push({\n                    type: 'text',\n                    content: html.slice(start, html.indexOf('<', start)),\n                    parent: current\n                });\n            }\n\n            byTag[current.tagName] = current;\n\n            // if we're at root, push new base node\n            if (level === 0) {\n                result.push(current);\n            }\n\n            parent = arr[level - 1];\n\n            if (parent) {\n                current.prev = parent.children[parent.children.length - 1]\n                parent.children[parent.children.length - 1].next = current;\n                parent.children.push(current);\n                current.parent = parent;\n            }\n\n            arr[level] = current;\n        }\n\n        if (!isOpen || current.voidElement) {\n            level--;\n            if (!inComponent && nextChar !== '<' && nextChar) {\n                // trailing text node\n                arr[level].children.push({\n                    type: 'text',\n                    content: html.slice(start, html.indexOf('<', start)),\n                    parent: arr[level]\n                });\n            }\n        }\n    });\n\n    return result;\n};","/**\n * Created by zhengqiguang on 2017/6/15.\n * 修改 by  https://github.com/HenrikJoreteg/html-parse-stringify/\n */\nimport parse from \"./parse\";\nimport stringify from \"./stringify\";\n\nexport {parse, stringify};\n\n","'use strict';\n\nvar binl2rstr;\nvar binlMD5;\nvar bitRotateLeft;\nvar hexHMACMD5;\nvar hexMD5;\nvar md5;\nvar md5cmn;\nvar md5ff;\nvar md5gg;\nvar md5hh;\nvar md5ii;\nvar rawHMACMD5;\nvar rawMD5;\nvar rstr2binl;\nvar rstr2hex;\nvar rstrHMACMD5;\nvar rstrMD5;\nvar safeAdd;\nvar str2rstrUTF8;\n\nsafeAdd = function (x, y) {\n    var lsw, msw;\n    lsw = (x & 0xFFFF) + (y & 0xFFFF);\n    msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n    return msw << 16 | lsw & 0xFFFF;\n};\n\nbitRotateLeft = function (num, cnt) {\n    return num << cnt | num >>> 32 - cnt;\n};\n\nmd5cmn = function (q, a, b, x, s, t) {\n    return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n};\n\nmd5ff = function (a, b, c, d, x, s, t) {\n    return md5cmn(b & c | ~b & d, a, b, x, s, t);\n};\n\nmd5gg = function (a, b, c, d, x, s, t) {\n    return md5cmn(b & d | c & ~d, a, b, x, s, t);\n};\n\nmd5hh = function (a, b, c, d, x, s, t) {\n    return md5cmn(b ^ c ^ d, a, b, x, s, t);\n};\n\nmd5ii = function (a, b, c, d, x, s, t) {\n    return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n};\n\nbinlMD5 = function (x, len) {\n\n    /* append padding */\n    var a, b, c, d, i, olda, oldb, oldc, oldd;\n    x[len >> 5] |= 0x80 << len % 32;\n    x[(len + 64 >>> 9 << 4) + 14] = len;\n    i = void 0;\n    olda = void 0;\n    oldb = void 0;\n    oldc = void 0;\n    oldd = void 0;\n    a = 1732584193;\n    b = -271733879;\n    c = -1732584194;\n    d = 271733878;\n    i = 0;\n    while (i < x.length) {\n        olda = a;\n        oldb = b;\n        oldc = c;\n        oldd = d;\n        a = md5ff(a, b, c, d, x[i], 7, -680876936);\n        d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n        c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n        b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n        a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n        d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n        c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n        b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n        a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n        d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n        c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n        b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n        a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n        d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n        c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n        b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n        a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n        d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n        c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n        b = md5gg(b, c, d, a, x[i], 20, -373897302);\n        a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n        d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n        c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n        b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n        a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n        d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n        c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n        b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n        a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n        d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n        c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n        b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n        a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n        d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n        c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n        b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n        a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n        d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n        c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n        b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n        a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n        d = md5hh(d, a, b, c, x[i], 11, -358537222);\n        c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n        b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n        a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n        d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n        c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n        b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n        a = md5ii(a, b, c, d, x[i], 6, -198630844);\n        d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n        c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n        b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n        a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n        d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n        c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n        b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n        a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n        d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n        c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n        b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n        a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n        d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n        c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n        b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n        a = safeAdd(a, olda);\n        b = safeAdd(b, oldb);\n        c = safeAdd(c, oldc);\n        d = safeAdd(d, oldd);\n        i += 16;\n    }\n    return [a, b, c, d];\n};\n\nbinl2rstr = function (input) {\n    var i, length32, output;\n    i = void 0;\n    output = '';\n    length32 = input.length * 32;\n    i = 0;\n    while (i < length32) {\n        output += String.fromCharCode(input[i >> 5] >>> i % 32 & 0xFF);\n        i += 8;\n    }\n    return output;\n};\n\nrstr2binl = function (input) {\n    var i, length8, output;\n    i = void 0;\n    output = [];\n    output[(input.length >> 2) - 1] = void 0;\n    i = 0;\n    while (i < output.length) {\n        output[i] = 0;\n        i += 1;\n    }\n    length8 = input.length * 8;\n    i = 0;\n    while (i < length8) {\n        output[i >> 5] |= (input.charCodeAt(i / 8) & 0xFF) << i % 32;\n        i += 8;\n    }\n    return output;\n};\n\nrstrMD5 = function (s) {\n    return binl2rstr(binlMD5(rstr2binl(s), s.length * 8));\n};\n\nrstrHMACMD5 = function (key, data) {\n    var bkey, hash, i, ipad, opad;\n    i = void 0;\n    bkey = rstr2binl(key);\n    ipad = [];\n    opad = [];\n    hash = void 0;\n    ipad[15] = opad[15] = void 0;\n    if (bkey.length > 16) {\n        bkey = binlMD5(bkey, key.length * 8);\n    }\n    i = 0;\n    while (i < 16) {\n        ipad[i] = bkey[i] ^ 0x36363636;\n        opad[i] = bkey[i] ^ 0x5C5C5C5C;\n        i += 1;\n    }\n    hash = binlMD5(ipad.concat(rstr2binl(data)), 512 + data.length * 8);\n    return binl2rstr(binlMD5(opad.concat(hash), 512 + 128));\n};\n\nrstr2hex = function (input) {\n    var hexTab, i, output, x;\n    hexTab = '0123456789abcdef';\n    output = '';\n    x = void 0;\n    i = void 0;\n    i = 0;\n    while (i < input.length) {\n        x = input.charCodeAt(i);\n        output += hexTab.charAt(x >>> 4 & 0x0F) + hexTab.charAt(x & 0x0F);\n        i += 1;\n    }\n    return output;\n};\n\nstr2rstrUTF8 = function (input) {\n    return unescape(encodeURIComponent(input));\n};\n\nrawMD5 = function (s) {\n    return rstrMD5(str2rstrUTF8(s));\n};\n\nhexMD5 = function (s) {\n    return rstr2hex(rawMD5(s));\n};\n\nrawHMACMD5 = function (k, d) {\n    return rstrHMACMD5(str2rstrUTF8(k), str2rstrUTF8(d));\n};\n\nhexHMACMD5 = function (k, d) {\n    return rstr2hex(rawHMACMD5(k, d));\n};\n\nvar index = md5 = function (string, key, raw) {\n    if (!key) {\n        if (!raw) {\n            return hexMD5(string);\n        }\n        return rawMD5(string);\n    }\n    if (!raw) {\n        return hexHMACMD5(key, string);\n    }\n    return rawHMACMD5(key, string);\n};\n\nexport default index;\n","/**\n * Created by zhengqiguang on 2017/6/15.\n */\n\nimport md5 from \"./md5\";\n\nconst typeReg = /\\[object ([\\w\\W]+?)\\]/;\n\nconst gettype = Object.prototype.toString;\n\n\nconst common = {\n    checkType(thing){\n        return gettype.call(thing).match(typeReg)[1];\n    },\n    formatParam(str){\n        let $s = str.split(\".\");\n        return JSON.stringify($s);\n    },\n    getItemData(data, itemNameSet){\n\n        if (itemNameSet.length == 1) {\n            if (!data) {\n                return void 0;\n            }\n            return data[itemNameSet[0]];\n        } else {\n            return this.getItemData(data[itemNameSet.shift()], itemNameSet);\n        }\n\n    },\n    getOdItemData(data, itemNameSet){\n        if (itemNameSet.length == 1) {\n            if (!data) {\n                return void 0;\n            }\n            return data[itemNameSet[0]];\n        } else {\n            return this.getOdItemData(data[itemNameSet.shift()][\"_od_\"], itemNameSet);\n        }\n    },\n    unique(str){\n\n        return md5(str);\n\n\n    }\n\n}\n\n\nexport default common;","/**\n * Created by zhengqiguang on 2017/6/23.\n */\n\nclass VNode {\n    constructor(tagName = \"\", type) {\n        this.tagName = tagName;\n        this.type = type;\n        this.attrs = Object.create(null);\n        this.children = [];\n\n        this._innerHtml = null;\n    }\n\n    appendChild(VDom) {\n        this.children.push(VDom);\n    }\n\n    setAttribute(k, v) {\n        this.attrs[k] = v;\n    }\n\n    set innerHtml(value) {\n        this._innerHtml = value;\n    }\n\n    get innerHtml() {\n        return this._innerHtml;\n    }\n}\n\nexport default VNode;\n","/**\n * Created by zhengqiguang on 2017/6/23.\n */\n\nimport VNode from \"./VNode\";\n\nclass VDom extends VNode {\n\n    constructor(tagName) {\n        super(tagName, \"tag\");\n    }\n\n\n}\n\nexport default VDom;\n","/**\n * Created by zhengqiguang on 2017/6/23.\n */\n\nimport VNode from \"./VNode\";\n\nclass VText extends VNode {\n\n    constructor(content) {\n        super(null, \"text\");\n        this.content = content;\n    }\n}\n\nexport  default VText;\n","/**\n * Created by zhengqiguang on 2017/6/23.\n */\nimport VNode from \"./VNode\";\n\nclass VDomFrag extends VNode {\n\n    constructor() {\n        super(\"\", \"frag\");\n    }\n}\n\n\nexport default VDomFrag;","/**\n * Created by zhengqiguang on 2017/6/21.\n */\nimport common from \"../common/common\";\n\n\nimport VDom from \"../v-dom/VDom\";\nimport VText from \"../v-dom/VText\";\nimport VDomFrag from \"../v-dom/VDomFrag\";\n\n\nconst compiler_helper = {\n    VDom: VDom,\n    VText: VText,\n    VDomFrag: VDomFrag,\n\n    _c(tagName, attrs = {}, children = []){\n\n        let $t = new VDom(tagName);\n\n        for (let key in attrs) {\n            $t.setAttribute(key, attrs[key]);\n        }\n\n\n        for (let i = 0, n; n = children[i]; i++) {\n            $t.appendChild(n.value);\n        }\n\n\n        return {\n            type: \"tag\",\n            value: $t\n        };\n    },\n    getItemData(data, itemNameSet){\n\n        if (itemNameSet.length == 1) {\n            return data[itemNameSet[0]];\n        } else {\n            return this.getItemData(data[itemNameSet.shift()], itemNameSet);\n        }\n\n    },\n    _i(data, itemName, renderIfFn){\n\n        if (this.getItemData(data, itemName)) {\n            return renderIfFn();\n        } else {\n            return {\n                type: \"fragment\",\n                value: new VText(\"\") //如果使用 documentFragment ,在插入页面之后无法获取其 parentNode,无法进行操作，因此写入一个空的 textNode\n            }\n        }\n    },\n    _f(data, itemName, keyName, renderEachFn){\n\n        let $t = new VDomFrag();\n\n        let $o = this.getItemData(data, itemName);\n\n        for (let item in $o) {\n            data[keyName] = $o[item];\n\n            $t.appendChild(renderEachFn(data).value);\n        }\n\n        delete data[keyName];\n\n        return {\n            type: \"fragment\",\n            value: $t\n        };\n\n    },\n\n    _h(data, htmlItemName, tagName, attrs = {}){\n\n        let $t = this._c(tagName, attrs).value;\n        $t.innerHTML = this.getItemData(data, htmlItemName);\n        return {\n            type: \"tag\",\n            value: $t\n        }\n\n    },\n\n    _t(fn, data){\n\n        let temp = fn(data);\n\n        return {\n            type: \"text\",\n            value: new VText(temp)\n        };\n    },\n\n    generaltplFn($ast){\n\n        let linkArgs = [];\n        let $temp = this.generalNode($ast, linkArgs),\n\n            $tempFn = `with(that){return ${$temp}}`;\n        let tplFn = new Function(\"that\", `${$tempFn}`);\n\n        return {\n            tplFn: tplFn,\n            linkArgs: linkArgs\n        };\n\n    },\n    generalNode($node, linkArgs){\n\n        if ($node.dsl && $node.dsl.length) { //存在 dsl\n            //dsl 优先级 if > for > html\n            let $sdlTemp = \"\";\n            let dslIndex;\n            if ((dslIndex = $node.dsl.indexOf(\"dsl-if\")) !== -1) { //先判断 if 语句\n                let itemName = $node.attrs[\"dsl-if\"];//现在只判断了值，没有进行表达式判断\n\n                linkArgs.push(itemName);\n\n                $node.dsl.splice(dslIndex, 1);\n                delete $node.attrs[\"dsl-if\"];\n\n\n                return `_i(data,${this.formatParam(itemName)},function(){\n                    return ${this.generalNode($node, linkArgs)} \n                })`\n\n\n            } else if ((dslIndex = $node.dsl.indexOf(\"dsl-for\")) !== -1) { //\n                let reg = /([\\w\\W]+) in ([\\w\\W]+)/,\n                    result = $node.attrs[\"dsl-for\"].match(reg);\n\n\n                linkArgs.push(result[2]);\n\n                $node.dsl.splice(dslIndex, 1);\n                delete $node.attrs[\"dsl-for\"];\n\n                return `_f(data,${this.formatParam(result[2])},'${result[1]}',function(data){\n                    return ${this.generalNode($node, linkArgs)} ;\n                })`\n\n            } else if ((dslIndex = $node.dsl.indexOf(\"dsl-html\")) !== -1) {\n                //有 html 模板的时候，忽略其中的节点，因为会被替换\n                let itemName = $node.attrs[\"dsl-html\"];//现在只判断了值，没有进行表达式判断\n\n                linkArgs.push(itemName);\n\n                $node.dsl.splice(dslIndex, 1);\n                delete $node.attrs[\"dsl-html\"];\n\n                return `_h(data,${this.formatParam(itemName)},'${$node.name}', ${JSON.stringify($node.attrs)})`;\n\n\n            }\n\n\n        } else if ($node.type === \"tag\") {\n            return `_c('${$node.name}', ${JSON.stringify($node.attrs)},[${$node.children.map(item => {\n                return this.generalNode(item, linkArgs)\n            })}])`\n\n        } else if ($node.type === \"text\") {\n            $node.content = $node.content.replace(/\\n/g, \"\");\n            let text = $node.content.trim();\n\n            let patt = /{{[ \\t]*([\\w\\W]*?)[ \\t]*}}/g;\n\n            let result = \"\",\n                temp = \"\",\n                cursor = 0;\n\n            while ((result = patt.exec(text)) !== null) {\n                let $temp1 = text.slice(cursor, result.index); //模板前面\n                cursor += $temp1.length;\n\n                temp += this.wrapStaticBlock($temp1);\n\n                temp += this.wrapDynamicBlock(result);\n\n                linkArgs.push(result[1]);\n\n                cursor += result[0].length;\n            }\n\n\n            temp += this.wrapStaticBlock(text.slice(cursor, text.length));\n\n            let fn = this.gTplFn(temp);\n\n            return `_t(${fn.toString()},data)`\n        }\n\n\n    },\n    wrapStaticBlock(str) {\n\n        return \"\\'\" + str + \"\\'\";\n\n    },\n    wrapDynamicBlock (result) {\n\n        return \" + data.\" + result[1] + \" + \"\n    },\n    gTplFn: function (str) {\n\n        let $t = \" return \" + str;\n\n        $t = $t.replace(/\\n/g, \"\");\n\n        let $tempFn = new Function(\"data\", $t);\n\n        return $tempFn;\n\n    },\n    formatParam(str){\n        let $s = str.split(\".\");\n        return JSON.stringify($s);\n    }\n\n}\n\nexport default compiler_helper;\n","/**\n * Created by zhengqiguang on 2017/6/23.\n */\n\n\nconst v_dom_to_dom = {\n    compiler(vDom){\n\n        return this.walker(vDom);\n\n    },\n\n    walker(vDom){\n        if (vDom.type === \"tag\") {\n\n            let $tag = document.createElement(vDom.tagName);\n            vDom.$rDom = $tag;\n            this.setAttr($tag, vDom.attrs);\n            for (let i = 0, c; c = vDom.children[i]; i++) {\n                $tag.appendChild(this.walker(c));\n            }\n            return $tag;\n\n        } else if (vDom.type === \"text\") {\n\n            let $txt = document.createTextNode(vDom.content);\n            vDom.$rDom = $txt;\n            return $txt;\n\n        } else if (vDom.type === \"frag\") {\n\n            let $frag = document.createDocumentFragment();\n            vDom.$rDom = $frag;\n            for (let i = 0, c; c = vDom.children[i]; i++) {\n                $frag.appendChild(this.walker(c));\n            }\n\n            // vDom.$rDom = $frag.childNodes[0]; //将$rDom 赋值为 第一个 childNode,替换时才能够找到\n            return $frag;\n        }\n\n    },\n    setAttr($d, attrs){\n        for (let key  in attrs) {\n            $d.setAttribute(key, attrs[key]);\n        }\n    }\n\n\n}\n\n\nexport default v_dom_to_dom;\n","/**\n * Created by zhengqiguang on 2017/6/26.\n */\nimport vDomToDom from \"./v-dom-to-dom\";\n\n\nlet handlerDiff = {\n    do_diff($diffTree){\n\n        console.log($diffTree);\n        this.walker($diffTree);\n\n    },\n    walker($diff){\n        if ($diff.diff.length) {\n            let $r = true;\n\n            for (let i = 0, d; d = $diff.diff[i]; i++) {\n\n                if (d.diff.indexOf(\"tagName\") !== -1 || d.diff.indexOf(\"content\") !== -1) { //标签被换掉了\n                    $r = this.replaceNode(d.$oldDom, d.$dom);\n                }\n\n                if (d.diff.indexOf(\"remove\") !== -1) { //标签被删除了\n                    $r = this.removedNode(d.$oldDom);\n                }\n\n                $r && this.walkerChildren(d.children);\n\n            }\n\n        } else {\n            if ($diff.children && $diff.children.length) {\n                this.walkerChildren($diff.children);\n            }\n        }\n\n    },\n    walkerChildren($diffs = []){\n        for (let i = 0, $d; $d = $diffs[i]; i++) {\n            this.walker($d);\n        }\n    },\n    replaceNode($oldDom, $dom){\n        if ($oldDom.type !== \"frag\") {\n            $oldDom.$rDom.parentNode.replaceChild(vDomToDom.compiler($dom), $oldDom.$rDom);\n        } else { //针对 frag 做特殊处理\n            this.replaceNode($oldDom.children[0], $dom);\n            for (let i = 1, c; c = $oldDom.children[i]; i++) {\n                this.removedNode(c);\n            }\n        }\n        return false;\n    },\n    removedNode($dom){\n        $dom.$rDom.parentNode.removeChild($dom.$rDom);\n        return false;\n    }\n\n\n}\n\nexport default handlerDiff;\n","/**\n * Created by zhengqiguang on 2017/6/23.\n */\n\nimport handlerDiff from  \"./handlerDiff\";\n\nconst diff = {\n    d_o($oldDom, $dom){\n\n        let $diffTree = {};\n\n        this.walker($oldDom.value, $dom.value, $diffTree);\n\n        handlerDiff.do_diff($diffTree);\n\n    },\n    walker($oldDom, $dom, $diffTree){\n\n        $diffTree.$oldDom = $oldDom;\n        $diffTree.$dom = $dom;\n\n        let $d = this.doDiff($oldDom, $dom);\n        $diffTree.diff = [];\n\n        if ($d.diff.length) {\n            $diffTree.diff.push($d);\n        }\n\n        if ($d.diff.indexOf(\"tagName\") == -1) { //如果 tag 不同，则直接整个元素替换\n            let l = Math.max(($oldDom && $oldDom.children.length) || 0, ($dom && $dom.children.length) || 0);\n            $diffTree.children = [];\n            for (let i = 0; i < l; i++) {\n                let $ct = {};\n                $diffTree.children.push($ct)\n                this.walker($oldDom && $oldDom.children[i], $dom && $dom.children[i], $ct);\n            }\n\n        }\n\n\n    },\n\n    doDiff($oldDom, $dom){\n\n        let d = {\n            diff: [],\n            $oldDom,\n            $dom\n        };\n\n        if (!$oldDom) {\n            d.diff.push(\"add\");\n            // console.warn(\"add diff\");\n        }\n\n        if (!$dom) {\n            d.diff.push(\"remove\");\n            // console.warn(\"remove diff\");\n        }\n\n        if (!$oldDom || !$dom) {\n            return d;\n        }\n\n\n        if ($oldDom.tagName !== $dom.tagName || $oldDom.type !== $dom.type) {//如果是 tagName 不同或者是 type 不同\n            d.diff.push(\"tagName\")\n            // console.warn(\"tagName or type diff\");\n        }\n\n        if (JSON.stringify($oldDom.attrs) !== JSON.stringify($dom.attrs)) {\n\n            d.diff.push(\"attrs\")\n            // console.warn(\"attrs diff\");\n        }\n\n        if ($oldDom.content !== $dom.content) {\n            d.diff.push(\"content\")\n            // console.warn(\"content diff\", $oldDom, $dom);\n        }\n\n        if ($oldDom.innerHtml !== $dom.innerHtml) {\n            d.diff.push(\"innerHTML\")\n            // console.warn(\"innerHtml diff\");\n        }\n\n        return d;\n\n    }\n\n\n}\n\nexport default diff;\n","/**\n * Created by zhengqiguang on 2017/6/15.\n */\n\n\nimport compiler_helper from \"../compiler/compiler-helper\";\nimport v_dom_to_dom from \"../compiler/v-dom-to-dom\";\nimport diff from \"../compiler/diff\";\n\nconst render = {\n\n    mount($node, $data){\n\n        compiler_helper.data = $data;\n\n        let $vdom = $node.$tplfn(compiler_helper);\n\n\n        if (!$node.$vDom) {//还没有 vdom，说明是初始化\n\n            let $d = v_dom_to_dom.compiler($vdom.value);\n            $node.$vDom = $vdom;\n            this.replaceNode($d, $node);\n        } else {\n\n            diff.d_o($node.$vDom, $vdom);\n\n            $node.$vDom = $vdom;\n\n        }\n        //\n        //\n        // let $newDom = this.generalDom($node.$tplfn(compiler_helper));\n        //\n        // this.replaceNode($newDom, $node);\n\n    },\n\n    generalDom(domStr){\n\n        if (domStr instanceof Object) {\n            return domStr.value;\n        }\n\n        var $temp = document.createElement(\"div\");\n        $temp.innerHTML = domStr.trim(); //不然会有多余的空格等东西\n        return $temp.childNodes[0];\n    },\n\n    replaceNode(newDom, node){\n        let $el = node.$el;\n\n        $el.parentNode.replaceChild(newDom, $el);\n\n        node.$el = newDom;\n    }\n\n\n}\n\n\nexport default render;","/**\n * Created by zhengqiguang on 2017/6/15.\n */\n\n\nimport {parse as htmlParse, stringify as htmlStringify} from \"./ast/index\";\n\nimport Render from \"../core/render\";\n\nimport compiler_helper from \"./compiler-helper\";\n\nclass Compiler {\n\n\n    constructor(tpl) {\n        this.$tpl = Render.generalDom(tpl);\n        this.tpl = this.$tpl.outerHTML;\n        this.$ast = htmlParse(tpl);\n\n        this.init(compiler_helper.generaltplFn(this.$ast[0]));\n\n    }\n\n\n    init({tplFn, linkArgs}) {\n        this.tplFn = tplFn;\n        this.linkArgs = linkArgs;\n    }\n\n}\n\n\nexport default Compiler;\n","/**\n * Created by zhengqiguang on 2017/6/15.\n */\n\n\nlet EventLoop = {\n    d_o(fn){\n        let p = Promise.resolve();\n        p.then(fn).catch((e) => {\n            console.log(e);\n        });\n    }\n\n}\n\nexport default EventLoop;\n","/**\n * Created by zhengqiguang on 2017/6/15.\n */\n\nimport selector from  \"../common/selector\";\n\nimport Compiler from \"../compiler/compiler-v2\";\n\nimport Render  from \"./render\";\n\nimport EventLoop from \"./event-loop\";\n\n\nclass Node {\n\n    constructor({el, template, data}) {\n        this.$data = data;\n        this.el = el;\n        this.template = template;\n        this.$el = selector.s(this.el);\n\n        let $t = selector.s(this.template);\n        if ($t) {\n            this.$template = $t.innerHTML.trim();\n        } else {\n            //error\n        }\n        this.$compiler = new Compiler(this.$template);\n\n        this.$args = this.$compiler.linkArgs;\n        this.$tplfn = this.$compiler.tplFn;\n        this.$vDom = null;\n    }\n\n    update() {\n        EventLoop.d_o(Render.mount.bind(Render, this, this.$data));\n    }\n\n}\n\nexport default Node;\n","/**\n * Created by zhengqiguang on 2017/6/15.\n */\nimport common from \"../common/common\";\n\n\nclass Watcher {\n    constructor(data) {\n        this.$data = data;\n        this.mountWatcher(this.$data, this.$data[\"_od_\"]);\n\n    }\n\n    mountWatcher($data, od) {\n\n        for (let key in $data) {\n\n\n            (function (key) {\n\n                var type = common.checkType($data[key]);\n\n\n                let timeoutHandler = null;\n\n                if (key !== \"_od_\" && !od[key].mounted) {\n                    if (!od[key]) {\n                        throw new Error(`data:${key} is init `);\n                    }\n                    Object.defineProperty($data, key, {\n                        get () {\n                            return od[key].value;\n                        },\n                        set(value) {\n\n                            clearTimeout(timeoutHandler);\n                            setTimeout(() => {\n                                if (value !== od[key].value) {\n\n                                    var $n = od[key].linkNodes;\n                                    od[key].value = value;\n                                    for (var i = 0, n; n = $n[i]; i++) {\n                                        n.update();\n                                    }\n                                }\n                            }, 1000 / 60);//一帧节流\n\n                        }\n                    });\n                    od[key].mounted = true;\n                    if (type === \"Object\") {// 深度监听\n\n                        this.mountWatcher($data[key], od[key][\"_od_\"]);\n\n                    } else if (type === \"Array\") {\n                        this.hookArray($data[key], od[key]);\n\n                    }\n                }\n\n            }.bind(this))(key);\n\n        }\n    }\n\n    linkNode($node) {\n\n        for (let i = 0, n; n = $node.$args[i]; i++) {\n\n            let $s = common.formatParam(n);\n\n            let $c = common.getItemData(this.$data, JSON.parse($s));\n\n            let $d = common.getOdItemData(this.$data[\"_od_\"], JSON.parse($s));\n\n            if ($c !== undefined &&\n                $d !== undefined &&\n                $d.linkNodes.indexOf($node) === -1) {\n\n                $d.linkNodes.push($node);\n\n            }\n        }\n    }\n\n    hookArray($d, $o) {\n\n        [\n            'push',\n            'pop',\n            'shift',\n            'unshift',\n            'splice',\n            'sort',\n            'reverse'\n        ].forEach(method => {\n\n            (function ($arr, $od) {\n                $arr[method] = function () {\n                    Array.prototype[method].apply($arr, arguments);\n                    $od.value = $arr;\n\n                    var $n = $od.linkNodes;\n                    for (var i = 0, n; n = $n[i]; i++) {\n                        n.update();\n                    }\n                }\n\n                Object.defineProperty($arr, method, {\n                    enumerable: false\n                });\n            })($d, $o);\n\n        });\n\n\n    }\n\n\n    updateData() {\n\n\n    }\n\n\n}\n\n\nexport default Watcher;\n","/**\n * Created by zhengqiguang on 2017/6/15.\n */\nimport common from \"../common/common\";\n\nconst helper = {\n    insertOD($targetData, $data){\n\n        !$targetData && ($targetData = {});\n\n        for (let key in $data) {\n            let type = common.checkType($data[key]);\n\n            if (type === \"Object\") {\n                let $tempTargetData = {};\n                this.insertOD($tempTargetData, $data[key]);\n                $targetData[key] = {\n                    value: $data[key],\n                    linkNodes: [],\n                    mounted: false,\n                    _od_: $tempTargetData\n                }\n\n            } else {\n\n                $targetData[key] = {\n                    value: $data[key],\n                    linkNodes: [],\n                    mounted: false\n                }\n            }\n\n        }\n\n        return $targetData;\n\n    }\n\n\n}\n\nclass Data {\n\n    static formatData(data = {}) {\n        data[\"_od_\"] = helper.insertOD(data[\"_od_\"], data);\n        return data;\n    }\n\n\n}\n\nexport default Data;\n","/**\n * Created by zhengqiguang on 2017/6/14.\n */\n\nimport Node from \"./node\";\nimport Watcher from \"./watcher\";\nimport Data from \"./data\";\nimport render from \"./render\";\n\nclass QV {\n    constructor(opt = {}) {\n        this._$opt = opt;\n\n        this.formatOption(opt);\n\n        this.mountRoot();\n\n    }\n\n    formatOption(opt) {\n\n        this.$data = Data.formatData(opt.data);\n\n        this.$root = new Node(opt);\n\n        this.$watcher = new Watcher(this.$data);\n\n        this.$watcher.linkNode(this.$root);\n\n    }\n\n    mountRoot() {\n        render.mount(this.$root, this.$data);\n    }\n\n\n}\n\n\nexport  default QV;\n","/**\n * Created by zhengqiguang on 2017/6/14.\n */\n\n\nimport Core from \"./core/core\";\n\n\n\nexport default Core;\n"],"names":["selector","document","querySelector","querySelectorAll","id","getElementById","dslMap","DSL","initAll","attrRE","lookup","Object","create","area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","tag","i","key","res","replace","match","dsl","push","charAt","length","voidElement","name","attrs","tagRE","empty","html","options","components","result","current","level","arr","byTag","inComponent","index","isOpen","start","nextChar","parent","parseTag","type","children","slice","indexOf","tagName","prev","next","binl2rstr","binlMD5","bitRotateLeft","hexHMACMD5","hexMD5","md5","md5cmn","md5ff","md5gg","md5hh","md5ii","rawHMACMD5","rawMD5","rstr2binl","rstr2hex","rstrHMACMD5","rstrMD5","safeAdd","str2rstrUTF8","x","y","lsw","msw","num","cnt","q","a","b","s","t","c","d","len","olda","oldb","oldc","oldd","length32","output","String","fromCharCode","length8","charCodeAt","data","bkey","hash","ipad","opad","concat","hexTab","unescape","encodeURIComponent","k","string","raw","typeReg","gettype","prototype","toString","common","thing","call","str","$s","split","JSON","stringify","itemNameSet","getItemData","shift","getOdItemData","VNode","_innerHtml","VDom","v","value","VText","content","VDomFrag","compiler_helper","$t","setAttribute","n","appendChild","itemName","renderIfFn","keyName","renderEachFn","$o","item","htmlItemName","_c","innerHTML","fn","temp","$ast","linkArgs","$temp","generalNode","$tempFn","tplFn","Function","$node","$sdlTemp","dslIndex","splice","formatParam","reg","map","text","trim","patt","cursor","exec","$temp1","wrapStaticBlock","wrapDynamicBlock","gTplFn","v_dom_to_dom","vDom","walker","$tag","createElement","$rDom","setAttr","$txt","createTextNode","$frag","createDocumentFragment","$d","handlerDiff","$diffTree","log","$diff","diff","$r","replaceNode","$oldDom","$dom","removedNode","walkerChildren","$diffs","parentNode","replaceChild","vDomToDom","compiler","removeChild","do_diff","doDiff","l","Math","max","$ct","innerHtml","render","$data","$vdom","$tplfn","$vDom","d_o","domStr","childNodes","newDom","node","$el","Compiler","tpl","$tpl","Render","generalDom","outerHTML","htmlParse","init","generaltplFn","EventLoop","p","Promise","resolve","then","catch","e","Node","el","template","$template","$compiler","$args","mount","bind","Watcher","mountWatcher","od","checkType","timeoutHandler","mounted","Error","defineProperty","$n","linkNodes","update","hookArray","$c","parse","undefined","forEach","$arr","$od","method","apply","arguments","helper","$targetData","$tempTargetData","insertOD","Data","QV","opt","_$opt","formatOption","mountRoot","formatData","$root","$watcher","linkNode"],"mappings":"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"}